/* Estilos para el toggle de tema */
.toggle-container {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
}

/* Estado inicial oculto - Comentamos para evitar conflictos */
/* .toggle-container.hidden {
  opacity: 0;
}

/* Estado visible - Comentamos para evitar conflictos */
/* .toggle-container.visible {
  opacity: 1;
} */

.toggle {
  width: 36px;
  height: 36px;
  border-radius: 8px;
  position: relative; /* scope absolute icons inside */
  display: grid;
  place-items: center;
  cursor: pointer;
  background: transparent;
  border: 1px solid transparent;
  box-shadow: none;
  line-height: 1;
  transition: all 0.3s cubic-bezier(0.215, 0.61, 0.355, 1);
}

.toggle:hover {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.toggle:active {
  transform: translateY(0);
}

.input {
  display: none;
}

.toggle .icon {
  position: absolute; /* remove from layout flow to avoid space */
  inset: 0; /* fill toggle */
  display: grid;
  place-items: center; /* center SVG */
  transition: transform 500ms;
  transform-origin: 50% 50%;
  will-change: transform;
  line-height: 0.1;
}

.toggle .icon--moon {
  transition-delay: 200ms;
}

.toggle .icon--sun {
  transform: scale(0);
}

.toggle #switch:checked + .icon--moon {
  transform: rotate(360deg) scale(0);
}

.toggle #switch:checked ~ .icon--sun {
  transition-delay: 200ms;
  transform: scale(1) rotate(360deg);
}

/* Enhance icon motion during theme transition */
html.theme-transitioning .toggle .icon {
  transition: transform 420ms cubic-bezier(0.34, 1.56, 0.64, 1);
}

@keyframes toggle-pop {
  0% { transform: scale(0.95) rotate(0deg); }
  60% { transform: scale(1.08) rotate(180deg); }
  100% { transform: scale(1) rotate(360deg); }
}

html.theme-transitioning .toggle #switch:checked ~ .icon--sun {
  animation: toggle-pop 420ms cubic-bezier(0.34, 1.56, 0.64, 1);
}

html.theme-transitioning .toggle #switch:not(:checked) + .icon--moon {
  animation: toggle-pop 420ms cubic-bezier(0.34, 1.56, 0.64, 1);
}

@media (prefers-reduced-motion: reduce) {
  html.theme-transitioning .toggle .icon,
  html.theme-transitioning .toggle #switch:checked ~ .icon--sun,
  html.theme-transitioning .toggle #switch:not(:checked) + .icon--moon {
    animation: none !important;
    transition: none !important;
  }
}
